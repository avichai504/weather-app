<div class="weather-history">
  <h3>Search History</h3>

  <div *ngIf="history.length; else noHistory" class="history-grid">
    <div *ngFor="let entry of history" class="weather-card">
      <p class="city">{{ entry.city }}</p>
      <p class="timestamp">{{ entry.date | date: 'short' }}</p>

      <img [src]="entry.result.icon" alt="icon" />

      <p><strong>{{ entry.result.description | titlecase }}</strong></p>
      <p>ğŸŒ¡ Temperature: {{ entry.result.temperature | number:'1.0-1' }}Â°C</p>
      <p>ğŸ¤’ Feels like: {{ entry.result.feels_like | number:'1.0-1' }}Â°C</p>
      <p>â¬‡ Min: {{ entry.result.temp_min | number:'1.0-1' }}Â°C,
         â¬† Max: {{ entry.result.temp_max | number:'1.0-1' }}Â°C</p>
      <p>ğŸ’§ Humidity: {{ entry.result.humidity }}%</p>
      <p>âš™ï¸ Pressure: {{ entry.result.pressure }} hPa</p>
      <p>ğŸ‘ï¸ Visibility: {{ entry.result.visibility / 1000 }} km</p>
      <p>ğŸ’¨ Wind: {{ entry.result.wind_speed }} m/s at {{ entry.result.wind_deg }}Â°</p>
      <p>â˜ï¸ Cloudiness: {{ entry.result.clouds }}%</p>
      <p>ğŸŒ Sunrise: {{ entry.result.sunrise * 1000 | date:'shortTime' }}</p>
      <p>ğŸŒœ Sunset: {{ entry.result.sunset * 1000 | date:'shortTime' }}</p>
    </div>
  </div>

  <ng-template #noHistory>
    <p>No weather history yet.</p>
  </ng-template>

  <button class="clear-btn" (click)="clearHistory()">Clear History</button>
</div>
